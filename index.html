<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="theme-color" content="#16a34a" />
    <title>Beaux Sucres Â· Tier List ZEVENT</title>
    <meta name="description" content="Logiciel web PWA Â· Tier list interactive Beaux Sucres (ZEVENT) Â· Offline, export PNG, partage, undo/redo." />
    <link rel="manifest" href="manifest.webmanifest" />
    <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'%3E%3Ctext y='0.9em' font-size='90'%3E%F0%9F%8D%AC%3C/text%3E%3C/svg%3E" />
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header class="site-header">
      <nav class="nav">
        <div class="logo">
          <span class="mark" id="logoMark" aria-hidden="true">ğŸ¬</span>
          <span class="brand">Beaux Sucres Â· ZEVENT</span>
        </div>
        <div class="spacer"></div>
        <button class="btn small ghost" id="stageToggle" title="Mode scÃ¨ne (plein Ã©cran)">ğŸ¬ ScÃ¨ne</button>
        <button class="btn small ghost" id="zeventToggle" title="Activer le thÃ¨me ZEVENT">ğŸ¨ ZEVENT</button>
        <button class="btn small ghost" id="themeToggle" title="Basculer clair/sombre">ğŸŒ“ ThÃ¨me</button>
        <button class="btn small ghost" id="streamToggle" title="Mode streamer">ğŸ“º Streamer</button>
        <button class="btn small" id="saveBtn" title="Sauver dans ce navigateur">ğŸ’¾ Sauver</button>
        <button class="btn small" id="resetBtn" title="RÃ©initialiser la grille">â™»ï¸ Reset</button>
        <button class="btn small" id="exportBtn" title="Exporter JSON">â¬‡ï¸ Export</button>
        <button class="btn small" id="importBtn" title="Importer JSON">â¬†ï¸ Import</button>
        <input type="file" id="importFile" accept="application/json" hidden />
      </nav>
    </header>

    <main>
      <section class="hero">
        <div class="left card">
          <div class="pulse" aria-hidden="true"></div>
          <h1>Nejda fait un ZEVENT âœ¨</h1>
          <p>Bienvenue dans le <strong>logiciel web</strong> des <strong>Beaux Sucres</strong> : crÃ©e ta <em>tier list</em>, sauvegarde, partage, exporte en PNG â€” mÃªme <em>offline</em>.</p>
          <div class="bar" role="list">
            <span class="tag" role="listitem">Drag & drop</span>
            <span class="tag" role="listitem">Undo / Redo</span>
            <span class="tag" role="listitem">Export PNG</span>
            <span class="tag" role="listitem">PWA Offline</span>
            <span class="tag" role="listitem">Confetti S-tier ğŸ‰</span>
          </div>
        </div>
        <div class="right card control-card">
          <div class="row" aria-label="Ajouter un sucre">
            <input id="nameInput" type="text" placeholder="Nom du sucre / pseudo" aria-label="Nom" />
            <input id="emojiInput" type="text" placeholder="Emoji (ex: ğŸ­)" aria-label="Emoji" />
            <input id="imgInput" type="url" placeholder="Image (URL, optionnel)" aria-label="Image (URL)" />
            <button id="addBtn" class="btn primary">+ Ajouter</button>
          </div>
          <div class="row between">
            <label class="muted">Astuce : doubleâ€‘clique un sucre pour le renommer. ğŸ–Šï¸ pour changer lâ€™emoji / image.</label>
            <div class="legend">
              <button class="btn small ghost" id="demoBtn" title="RÃ©injecter sucreries dÃ©mo">DÃ©mo</button>
            </div>
          </div>
          <div class="row between">
            <input id="filterInput" type="text" placeholder="Filtrer la rÃ©serve (recherche)â€¦" aria-label="Filtre" />
            <div class="stats" id="stats" aria-live="polite"></div>
          </div>
          <div class="row wrap">
            <button class="btn small ghost" id="shareBtn" title="CrÃ©er un lien partageable">ğŸ”— Lien</button>
            <input id="shareField" type="text" readonly placeholder="Le lien apparaÃ®tra ici" aria-label="Lien partageable" />
            <button class="btn small ghost" id="alphaSortBtn" title="Trier chaque rang Aâ†’Z">ğŸ”¤ Trier Aâ†’Z</button>
            <button class="btn small ghost" id="undoBtn" title="Annuler (Ctrl+Z)">â†¶ Annuler</button>
            <button class="btn small ghost" id="redoBtn" title="RÃ©tablir (Ctrl+Y)">â†· RÃ©tablir</button>
            <button class="btn small" id="exportPngBtn" title="Exporter une capture PNG de la tier list">ğŸ–¼ï¸ Export PNG</button>
          </div>
        </div>
      </section>

      <section class="tierboard" id="board" aria-label="Grille de classement">
        <div class="tier-row" data-tier="S"><div class="badge" data-badge="S" aria-label="Compteur rang S">S</div><div class="dropzone" data-zone="S" aria-label="Rang S (lÃ©gendaire)"></div></div>
        <div class="tier-row" data-tier="A"><div class="badge" data-badge="A" aria-label="Compteur rang A">A</div><div class="dropzone" data-zone="A" aria-label="Rang A"></div></div>
        <div class="tier-row" data-tier="B"><div class="badge" data-badge="B" aria-label="Compteur rang B">B</div><div class="dropzone" data-zone="B" aria-label="Rang B"></div></div>
        <div class="tier-row" data-tier="C"><div class="badge" data-badge="C" aria-label="Compteur rang C">C</div><div class="dropzone" data-zone="C" aria-label="Rang C"></div></div>
        <div class="tier-row" data-tier="D"><div class="badge" data-badge="D" aria-label="Compteur rang D">D</div><div class="dropzone" data-zone="D" aria-label="Rang D"></div></div>
      </section>

      <div class="pool-wrap">
        <h3 class="muted">ğŸ’ RÃ©serve â€” sucreries en attente</h3>
        <div class="pool dropzone" data-zone="pool" id="pool" aria-label="RÃ©serve"></div>
      </div>
    </main>

    <footer class="site-footer">
      <div>Fait avec â¤ï¸ pour la commu des Beaux Sucres â€¢ <span class="hash">#ZEVENT</span></div>
      <div>Design/Code : <strong>toi + moi</strong></div>
    </footer>

    <template id="chipTemplate">
      <div class="chip" draggable="true" tabindex="0" role="button" aria-grabbed="false">
        <span class="avatar" aria-hidden="true">ğŸ¬</span>
        <span class="label">Sucre</span>
        <button class="edit" title="Changer emoji" aria-label="Changer emoji">ğŸ–Šï¸</button>
        <button class="del" title="Supprimer" aria-label="Supprimer">âœ–</button>
      </div>
    </template>

    <div id="toast" role="status" aria-live="polite" aria-atomic="true"></div>
    <canvas id="fx" class="fx"></canvas>

    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('sw.js').catch(()=>{});
        });
      }
    </script>
    <script src="app.js"></script>
    <noscript>Veuillez activer JavaScript pour utiliser l'application.</noscript>
  </body>
</html>
